[config]
# ...

# -----------------------------------------------------------------------------
# GTK & Qt
# -----------------------------------------------------------------------------

[templates.gtk3]
input_path  = '~/.config/matugen/templates/gtk-colors.css'
output_path = '~/.config/matugen/generated/gtk-3.css'
post_hook   = "gsettings set org.gnome.desktop.interface icon-theme 'Fluent-teal-dark'"

[templates.gtk4]
input_path  = '~/.config/matugen/templates/gtk-colors.css'
output_path = '~/.config/matugen/generated/gtk-4.css'
post_hook   = '''
mkdir -p $HOME/.config/gtk-3.0 $HOME/.config/gtk-4.0;
ln -nfs $HOME/.config/matugen/generated/gtk-3.css $HOME/.config/gtk-3.0/gtk.css;
ln -nfs $HOME/.config/matugen/generated/gtk-4.css $HOME/.config/gtk-4.0/gtk.css;
gsettings set org.gnome.desktop.interface gtk-theme "adw-gtk3";
systemctl --user reset-failed hyprpolkitagent;
systemctl --user restart hyprpolkitagent || true
'''

[templates.qt5ct]
input_path  = '~/.config/matugen/templates/qtct-colors.conf'
output_path = '~/.config/matugen/generated/qt5ct-colors.conf'

[templates.qt6ct]
input_path  = '~/.config/matugen/templates/qtct-colors.conf'
output_path = '~/.config/matugen/generated/qt6ct-colors.conf'

# -----------------------------------------------------------------------------
# System Components (Wayland, Bars, Notifications)
# -----------------------------------------------------------------------------

[templates.hyprland]
input_path  = '~/.config/matugen/templates/hyprland-colors.conf'
output_path = '~/.config/matugen/generated/hyprland-colors.conf'
post_hook   = 'command -v hyprctl >/dev/null 2>&1 && hyprctl reload || true'

[templates.hyprlock]
input_path  = '~/.config/matugen/templates/hyprlock-colors.conf'
output_path = '~/.config/matugen/generated/hyprlock-colors.conf'

[templates.waybar]
input_path  = '~/.config/matugen/templates/colors.css'
output_path = '~/.config/matugen/generated/waybar-colors.css'
post_hook   = '''
~/user_scripts/waybar/waybar_autostart.sh || true;
'''

[templates.swaync]
input_path  = '~/.config/matugen/templates/colors.css'
output_path = '~/.config/matugen/generated/swaync-colors.css'
post_hook   = '''
command -v swaync-client >/dev/null 2>&1 && {
  swaync-client -R || true;
  swaync-client -rs || true;
}
'''

[templates.swayosd]
input_path  = '~/.config/matugen/templates/swayosd-colors.css'
output_path = '~/.config/matugen/generated/swayosd-colors.css'
post_hook   = '~/user_scripts/swayosd/restart_swayosd.sh || true'

[templates.wlogout]
input_path  = '~/.config/matugen/templates/colors.css'
output_path = '~/.config/matugen/generated/wlogout-colors.css'

[templates.rofi]
input_path  = '~/.config/matugen/templates/rofi-colors.rasi'
output_path = '~/.config/matugen/generated/rofi-colors.rasi'

# -----------------------------------------------------------------------------
# Applications (Terminals, Editors, Browsers)
# -----------------------------------------------------------------------------

[templates.kitty]
input_path  = '~/.config/matugen/templates/kitty-colors.conf'
output_path = '~/.config/matugen/generated/kitty-colors.conf'
post_hook   = '''
ln -nfs $HOME/.config/matugen/generated/kitty-colors.conf $HOME/.config/kitty/kitty-colors.conf;
pkill -SIGUSR1 kitty || true
'''

[templates.alacritty]
input_path  = '~/.config/matugen/templates/alacritty.toml'
output_path = '~/.config/matugen/generated/alacritty-colors.toml'
post_hook   = 'ln -nfs $HOME/.config/matugen/generated/alacritty-colors.toml $HOME/.config/alacritty/alacritty-colors.toml'

[templates.neovim]
input_path  = '~/.config/matugen/templates/neovim/template.lua'
output_path = '~/.config/matugen/generated/neovim-colors.lua'
post_hook   = 'pkill -SIGUSR1 nvim || true'

[templates.yazi]
input_path  = '~/.config/matugen/templates/yazi-theme.toml'
output_path = '~/.config/matugen/generated/yazi-theme.toml'
post_hook   = 'ln -nfs $HOME/.config/matugen/generated/yazi-theme.toml $HOME/.config/yazi/theme.toml'

[templates.zathura]
input_path  = '~/.config/matugen/templates/zathura-colors'
output_path = '~/.config/matugen/generated/zathura-colors'
post_hook   = 'ln -nfs $HOME/.config/matugen/generated/zathura-colors $HOME/.config/zathura/zathurarc'


# [templates.starship]
# input_path = '~/.config/matugen/templates/starship-colors.toml'
# output_path = '~/.config/matugen/generated/starship-colors.toml'
# post_hook = 'ln -nfs $HOME/.config/matugen/generated/starship-colors $HOME/.config/starship.toml'

# [templates.tmux]
# input_path = '~/.config/matugen/templates/tmux-colors.conf'
# output_path = '~/.config/matugen/generated/tmux-colors.conf'
# post_hook = 'tmux source-file ~/.config/matugen/tmux-colors.conf'

[templates.pywalfox]
input_path  = '~/.config/matugen/templates/pywalfox-colors.json'
output_path = '~/.config/matugen/generated/pywalfox-colors.json'
post_hook   = '''
command -v pywalfox >/dev/null 2>&1 && {
    mkdir -p $HOME/.cache/wal
    ln -nfs $HOME/.config/matugen/generated/pywalfox-colors.json $HOME/.cache/wal/colors.json
    pywalfox update || true
}
'''

[templates.Obsidian]
input_path  = '~/.config/matugen/templates/obsidian-theme.css'
output_path = '~/.config/matugen/generated/obsidian-theme.css'
post_hook   = '''
mkdir -p $HOME/Documents/pensive/.obsidian/snippets;
ln -nfs $HOME/.config/matugen/generated/obsidian-theme.css $HOME/Documents/pensive/.obsidian/snippets/matugen-theme.css
'''

# -----------------------------------------------------------------------------
# Media & System Monitor
# -----------------------------------------------------------------------------

[templates.spicetify]
input_path  = '~/.config/matugen/templates/spotify-colors.ini'
output_path = '~/.config/matugen/generated/spotify-colors.ini'
post_hook   = '''
command -v spicetify >/dev/null 2>&1 && [ -d "$HOME/.config/spicetify/Themes/dusky" ] && {
    ln -nfs $HOME/.config/matugen/generated/spotify-colors.ini $HOME/.config/spicetify/Themes/dusky/color.ini || true;
    spicetify apply -n || true;
    command -v hyprctl >/dev/null 2>&1 && hyprctl dispatch sendshortcut 'CTRL SHIFT, R, class:^(spotify)$' || true;
}
'''

[templates.steam]
input_path  = '~/.config/matugen/templates/steam.json'
output_path = '~/.config/matugen/generated/steam.json'
post_hook   = '''
[ -d "$HOME/homebrew/themes/Color Master" ] && {
    ln -nfs $HOME/.config/matugen/generated/steam.json $HOME/homebrew/themes/Color\ Master/config_USER.json || true;
    command -v sudo >/dev/null 2>&1 && sudo systemctl restart plugin_loader || true;
}
'''

[templates.cava]
input_path  = '~/.config/matugen/templates/cava-colors.ini'
output_path = '~/.config/matugen/generated/cava-colors.ini'
post_hook   = '''
mkdir -p $HOME/.config/cava/themes;
ln -nfs $HOME/.config/matugen/generated/cava-colors.ini $HOME/.config/cava/themes/cava-colors.ini;
pkill -USR1 cava || true
'''
[templates.fastfetch]
input_path  = '~/.config/matugen/templates/fastfetch'
output_path = '~/.config/matugen/generated/fastfetch'
post_hook   = '~/user_scripts/fastfetch/logogen.sh'

[templates.discord]
input_path  = '~/.config/matugen/templates/midnight-discord.css'
output_path = '~/.config/matugen/generated/midnight-discord.css'
post_hook   = '''
[ -d "$(dirname "$HOME/.config/vesktop/settings/quickCss.css")" ] && ln -nfs "$HOME/.config/matugen/generated/midnight-discord.css" "$HOME/.config/vesktop/settings/quickCss.css" || true;
[ -d "$(dirname "$HOME/.var/app/dev.vencord.Vesktop/config/vesktop/settings/quickCss.css")" ] && ln -nfs "$HOME/.config/matugen/generated/midnight-discord.css" "$HOME/.var/app/dev.vencord.Vesktop/config/vesktop/settings/quickCss.css" || true;
[ -d "$(dirname "$HOME/.config/Vencord/settings/quickCss.css")" ] && ln -nfs "$HOME/.config/matugen/generated/midnight-discord.css" "$HOME/.config/Vencord/settings/quickCss.css" || true;
[ -d "$(dirname "$HOME/.config/equibop/settings/quickCss.css")" ] && ln -nfs "$HOME/.config/matugen/generated/midnight-discord.css" "$HOME/.config/equibop/settings/quickCss.css" || true;
[ -d "$(dirname "$HOME/.var/app/org.equicord.equibop/config/equibop/settings/quickCss.css")" ] && ln -nfs "$HOME/.config/matugen/generated/midnight-discord.css" "$HOME/.var/app/org.equicord.equibop/config/equibop/settings/quickCss.css" || true;
[ -d "$(dirname "$HOME/.config/Equicord/settings/quickCss.css")" ] && ln -nfs "$HOME/.config/matugen/generated/midnight-discord.css" "$HOME/.config/Equicord/settings/quickCss.css" || true
'''

[templates.btop]
input_path  = '~/.config/matugen/templates/btop.theme'
output_path = '~/.config/matugen/generated/btop-colors.theme'
post_hook   = '''
mkdir -p $HOME/.config/btop/themes;
ln -nfs $HOME/.config/matugen/generated/btop-colors.theme $HOME/.config/btop/themes/matugen.theme || true;
command -v notify-send >/dev/null 2>&1 && notify-send -i applications-graphics-symbolic "Theme Updated" || true
'''
